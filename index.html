<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notepad & Task Tracker Widget</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        /* Base Styles */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            height: 100vh;
            margin: 0;
            padding: 0;
        }

        /* Theme Styles */
        .dark-theme {
            background-color: #2e2e2e;
            color: white;
        }
        
        .light-theme {
            background-color: #ffffff;
            color: #333;
        }

        .container {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin: 10px;
            padding: 15px;
            width: 80%;
            max-width: 600px;
            border-radius: 10px;
        }

        .notepad-container, .task-container {
            background-color: #f5f5f5;
            margin-bottom: 20px;
            border-radius: 10px;
            padding: 10px;
        }

        .time-zone-container {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 10px;
        }

        .time-zone-box {
            background-color: #e0c3fc;
            border-radius: 5px;
            padding: 10px;
            width: 20%;
            text-align: center;
        }

        .button {
            background-color: #D0B0BD;
            border: none;
            color: white;
            padding: 5px 10px;
            font-size: 1rem;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
        }

        .button:hover {
            background-color: #DFB7CC;
        }

        .resize-handle {
            width: 15px;
            height: 15px;
            background-color: #9DA8C4;
            position: absolute;
            bottom: 5px;
            right: 5px;
            cursor: se-resize;
        }

        .toggle-container {
            position: absolute;
            bottom: 10px;
            left: 10px;
        }

        .collapsible {
            display: none;
        }

        /* Theme Toggle */
        .theme-button {
            position: fixed;
            bottom: 10px;
            left: 10px;
            padding: 10px;
            background-color: #9DA8C4;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        /* Collapsible container for font color buttons */
        .color-toggle-container {
            position: absolute;
            bottom: 40px;
            left: 10px;
            display: flex;
            flex-direction: column;
        }

        .color-button {
            background-color: #9DA8C4;
            margin: 5px;
        }
    </style>
</head>
<body>
    <div id="mainContainer" class="container">
        <!-- Time Zone Container -->
        <div class="time-zone-container">
            <div class="time-zone-box" id="pacific-time">
                US Pacific: <span id="pacific"></span>
            </div>
            <div class="time-zone-box" id="mountain-time">
                US Mountain: <span id="mountain"></span>
            </div>
            <div class="time-zone-box" id="central-time">
                US Central: <span id="central"></span>
            </div>
            <div class="time-zone-box" id="philippines-time">
                Philippines: <span id="philippines"></span>
            </div>
        </div>

        <!-- Notepad Container -->
        <div class="notepad-container" id="notepad-container">
            <textarea id="notepad" placeholder="Write your notes here..." rows="10" style="width: 100%; font-size: 18px;"></textarea>
        </div>

        <!-- Font Size Buttons -->
        <div class="button-container">
            <button id="increase-font" class="button">+</button>
            <button id="decrease-font" class="button">-</button>
        </div>

        <!-- Task Container -->
        <div class="task-container" id="task-container">
            <input type="text" id="task-input" placeholder="Enter your task..." />
            <button class="button" onclick="addTask()">Add Task</button>
            <button class="button" onclick="clearTasks()">Clear All Tasks</button>
            <ul id="task-list"></ul>
        </div>

        <!-- Font Color Customization (Collapsible) -->
        <div class="color-toggle-container">
            <button class="button" onclick="changeFontColor('purple')">Purple Font</button>
            <button class="button" onclick="changeFontColor('pink')">Pink Font</button>
            <button class="button" onclick="changeFontColor('brown')">Brown Font</button>
        </div>

        <!-- Theme Toggle -->
        <div class="theme-button" onclick="toggleTheme()">Toggle Theme</div>
    </div>

    <script>
        // Initialize Theme and Font Color
        let isDarkMode = false;
        let currentFontColor = 'purple';
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        let savedNotepad = localStorage.getItem('notepad') || '';

        // Handle Theme Toggle
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.body.className = isDarkMode ? 'dark-theme' : 'light-theme';
            document.getElementById('mainContainer').className = isDarkMode ? 'container dark-theme' : 'container light-theme';
        }

        // Handle Font Color Change
        function changeFontColor(color) {
            currentFontColor = color;
            document.getElementById('notepad').style.color = color;
            document.getElementById('task-container').style.color = color;
        }

        // Save Notepad Content
        document.getElementById('notepad').addEventListener('input', function() {
            localStorage.setItem('notepad', this.value);
        });

        // Set initial notepad value
        document.getElementById('notepad').value = savedNotepad;

        // Add Task Functionality
        function addTask() {
            const taskText = document.getElementById('task-input').value;
            if (taskText) {
                tasks.push({ text: taskText, completed: false });
                updateTaskList();
                document.getElementById('task-input').value = '';
            }
        }

        // Update Task List
        function updateTaskList() {
            const taskList = document.getElementById('task-list');
            taskList.innerHTML = '';
            tasks.forEach((task, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span style="text-decoration: ${task.completed ? 'line-through' : 'none'}">${task.text}</span>
                    <button class="button" onclick="toggleTaskCompletion(${index})">âœ“</button>
                    <button class="button" onclick="deleteTask(${index})">X</button>
                `;
                taskList.appendChild(li);
            });
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        // Toggle Task Completion
        function toggleTaskCompletion(index) {
            tasks[index].completed = !tasks[index].completed;
            updateTaskList();
        }

        // Delete Task
        function deleteTask(index) {
            tasks.splice(index, 1);
            updateTaskList();
        }

        // Clear All Tasks
        function clearTasks() {
            tasks = [];
            updateTaskList();
        }

        // Update Time Zones (12-hour format)
        function updateTimeZones() {
            const options = { hour: '2-digit', minute: '2-digit', hour12: true };
            const pacific = new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles', ...options });
            const mountain = new Date().toLocaleString('en-US

            const mountain = new Date().toLocaleString('en-US', { timeZone: 'America/Denver', ...options });
            const central = new Date().toLocaleString('en-US', { timeZone: 'America/Chicago', ...options });
            const philippines = new Date().toLocaleString('en-US', { timeZone: 'Asia/Manila', ...options });

            document.getElementById('pacific').textContent = pacific;
            document.getElementById('mountain').textContent = mountain;
            document.getElementById('central').textContent = central;
            document.getElementById('philippines').textContent = philippines;
        }

        // Initial Setup
        updateTimeZones();
        setInterval(updateTimeZones, 60000); // Update every minute

        // Font Size Adjustments
        document.getElementById('increase-font').addEventListener('click', function() {
            const notepad = document.getElementById('notepad');
            const currentSize = parseInt(window.getComputedStyle(notepad).fontSize);
            notepad.style.fontSize = (currentSize + 2) + 'px';
        });

        document.getElementById('decrease-font').addEventListener('click', function() {
            const notepad = document.getElementById('notepad');
            const currentSize = parseInt(window.getComputedStyle(notepad).fontSize);
            notepad.style.fontSize = (currentSize - 2) + 'px';
        });

        // Resize Notepad Container
        const resizeHandle = document.getElementById('resize-handle');
        let isResizing = false;

        resizeHandle.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.addEventListener('mousemove', handleMouseMove);
            document.addEventListener('mouseup', () => {
                isResizing = false;
                document.removeEventListener('mousemove', handleMouseMove);
            });
        });

        function handleMouseMove(e) {
            if (isResizing) {
                const notepadContainer = document.getElementById('notepad-container');
                const newWidth = e.clientX - notepadContainer.offsetLeft;
                const newHeight = e.clientY - notepadContainer.offsetTop;
                notepadContainer.style.width = `${newWidth}px`;
                notepadContainer.style.height = `${newHeight}px`;
            }
        }
    </script>
</body>
</html>
